<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>Middle East Security Monitor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <link rel="stylesheet"
        href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div id="map"></div>

<!-- Controls -->
<div id="controlPanel" class="panel panel-top-left closed">
  <div class="panel-header">
    <button id="controlToggle" class="panel-toggle">☰</button>
    <div class="panel-title">Controls</div>
  </div>

  <div class="panel-body">
    <label>
      <input id="bordersCheckbox" type="checkbox" checked />
      Country borders
    </label>

    <hr class="sep" />

    <b>Categories</b><br>
    <label><input class="cat-filter" type="checkbox" value="political" checked /> political</label><br>
    <label><input class="cat-filter" type="checkbox" value="military" checked /> military</label><br>
    <label><input class="cat-filter" type="checkbox" value="security" checked /> security</label><br>
    <label><input class="cat-filter" type="checkbox" value="other" checked /> other</label>

    <hr class="sep" />

    <b>Time Window</b><br>
    <label><input type="radio" name="window" value="1" checked /> 1 day</label><br>
    <label><input type="radio" name="window" value="7" /> 7 days</label><br>
    <label><input type="radio" name="window" value="30" /> 30 days</label>
  </div>
</div>

<!-- Timeline + EVENTS LIST -->
<div id="timelinePanel" class="panel panel-top-right closed">
  <div class="panel-header">
    <button id="timelineToggle" class="panel-toggle">☰</button>
    <div class="panel-title">Timeline</div>
  </div>

  <div class="panel-body">
    <div class="muted">Selected date</div>
    <div id="selectedDateLabel" class="big">—</div>

    <input id="timelineSlider" type="range" min="0" max="364" value="364" />

    <hr class="sep" />

    <div class="events-title">Events</div>
    <div id="eventsList" class="events-list"></div>
  </div>
</div>

<!-- Legend -->
<div id="legendPanel" class="panel panel-bottom-left closed">
  <div class="panel-header">
    <button id="legendToggle" class="panel-toggle">☰</button>
    <div class="panel-title">Legend</div>
  </div>

  <div class="panel-body">
    <div class="legend-item"><span class="dot dot-military"></span> military</div>
    <div class="legend-item"><span class="dot dot-political"></span> political</div>
    <div class="legend-item"><span class="dot dot-security"></span> security</div>
    <div class="legend-item"><span class="dot dot-other"></span> other</div>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
<script src="script.js"></script>
</body>
</html>
